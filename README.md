# C++ Preprocessor

Препроцессор для обработки #include директив в C++ файлах с поддержкой рекурсивной обработки и разрешения путей.

## Описание

Препроцессор для обработки #include директив в C++ файлах. Система рекурсивно обрабатывает все включенные файлы, разрешает пути относительно текущего файла и указанных директорий, и объединяет все в один выходной файл.

## Функциональность

- Обработка #include директив с кавычками (#include "file.h")
- Обработка #include директив с угловыми скобками (#include <file.h>)
- Рекурсивная обработка вложенных включений
- Разрешение путей относительно текущего файла
- Поиск файлов в указанных директориях
- Информативные сообщения об ошибках при отсутствии файлов

## Технологии

- **C++17** - основной язык программирования
- **std::filesystem** - для работы с путями и файловой системой
- **Регулярные выражения (std::regex)** - для парсинга директив
- **Рекурсивная обработка** - обход дерева включений

## Структура проекта

```
cpp-preprocessor/
└── main.cpp  # Реализация препроцессора
```

## Требования

- Компилятор с поддержкой C++17
- Поддержка std::filesystem

## Сборка

```bash
g++ -std=c++17 -O2 main.cpp -o preprocessor
```

## Использование

### Базовое использование

```bash
# Обработка одного файла
./preprocessor input.cpp output.cpp

# С указанием директорий для поиска
./preprocessor input.cpp output.cpp -I include1 -I include2
```

### Пример входного файла

```cpp
// input.cpp
#include "header1.h"
#include <std_header.h>

int main() {
    return 0;
}
```

### Пример выходного файла

```cpp
// output.cpp
// Содержимое header1.h
// Содержимое std_header.h
int main() {
    return 0;
}
```

### Программный интерфейс

```cpp
#include <filesystem>
#include <vector>

bool Preprocess(
    const std::filesystem::path& in_file,
    const std::filesystem::path& out_file,
    const std::vector<std::filesystem::path>& include_directories
);
```

## Особенности реализации

- **Рекурсивная обработка**: корректная обработка вложенных включений
- **Разрешение путей**: умный поиск файлов в различных директориях
- **Обработка ошибок**: информативные сообщения при проблемах
- **Сохранение структуры**: правильное объединение файлов

## Примеры использования

### Обработка проекта с несколькими директориями

```bash
./preprocessor \
    src/main.cpp \
    src/main.preprocessed.cpp \
    -I include \
    -I lib/include \
    -I third_party/include
```

## Автор

Михаил Нестеров

## Лицензия

Этот проект создан в образовательных целях.
